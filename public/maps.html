<!DOCTYPE html>
<html>
  <head>
    <title>NOPE Map</title>
    <meta name="viewport" content="initial-scale=1.0">
		<meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 20px;
      }
    </style>
  </head>
  <body>
    <h1>NOPE MAPS</h1>
    <div id="map"></div>
    <script>

		var map

		function initMap() {
			//**** DEFAULT ZOOM FOR MAP****

			var options = {
				zoom:8,
				center: {lat: 35.2271, lng: -80.8431}
			}

			map = new google.maps.Map(document.getElementById('map'), options)

			//****LISTEN FOR MAP CLICK TO ADD MARKER****

			google.maps.event.addListener(map, "click", function(event) {
				addMarker({coords:event.latLng})
			})
			
			var markers = [
				{
					coords:{lat: 35.2271, lng: -80.8431},
					image: "",
					content:"TEST 1"
				},
				{
					coords:{lat: 41.2063, lng: -74.0418},
					image: "",
					content: "TEST 2"
				},
				{
					coords:{lat: 41.8781, lng: -87.6298},
					image: "",
					content: "TEST 3"
				}
			]

			for(var i = 0; i < markers.length; i++) {
					addMarker(markers[i])
			}

			function addMarker(props){

				// ****CHECK FOR ICON****

				if(props.icon) {
					marker.setIcon(props.icon)
				}

				// ****VALIDATE CONTENT****

				if(props.content) {
					var infoWindow = new google.maps.InfoWindow ({
					content: props.content
					})
				}

				var marker = new google.maps.Marker ({
					position: props.coords,
					map: map,
					icon: props.image,
					content: props.content
				})

				//****ADD CLICK EVENT TO MARKERS TO CALL MARKER INFO****

				marker.addListener("click", function() {
					infoWindow.open(map, marker)
				})
			}

			// ****CHECK FOR ICON****

			// if(props.icon) {
			// 	marker.setIcon(props.icon)
			// }

			// ****VALIDATE CONTENT****

			// if(props.content) {
			// 	var infoWindow = new google.maps.InfoWindow ({
			// 	content: props.content
			// 	})
			// }
			
			//****ADD CLICK EVENT TO MARKERS TO CALL MARKER INFO****

			// marker.addListener("click", function() {
			// 	infoWindow.open(map, marker)
			// })

		}//****end of map****
    </script>


    <script src="https://maps.googleapis.com/maps/api/js?key=XXX&callback=initMap"
    async defer></script>
  </body>
</html>